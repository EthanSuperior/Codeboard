<!DOCTYPE html>
<html>
    <body>
        <textarea id="output" rows="28" cols="50" style="overflow: hidden" readonly></textarea>
        <script>
            //Define the language why ; why everything why the spacing. what let mean whats with variable name
            // IGNORE THIS STUFF ITS JUST FOR THE FANCY OUTPUT STUFF
            let output = document.getElementById("output");
            let tutorialLines = [
                "Welcome to the tutorial!!",
                "",
                "This tutorial is made of two files: Tutorial.html and the CodeboardEngine",
                "",
                "I'd recommend opening up the Blank.html file with a text editor and the browser so you can follow along!",
                "",
                "Once you have it open, click here, or press enter to Continue....",
                "",
                "PAUSE",
                // Variables
                "First, let's cover the basics of data or information in programming.",
                "",
                "Variables: They are like buckets or containers that hold information.",
                "Think of them as little post-it notes with something written on them.",
                "You can store different types of data in variables, such as numbers, strings, or booleans.",
                "",
                "Example of declaring a variable and assigning a value (number)",
                "`let age = 25;`",
                "",
                "Example of declaring a variable and assigning a value (string)",
                '`let name = "John";`',
                "",
                "Example of declaring a variable without assigning a value... yet",
                "`let temperature;`",
                "",
                "Now we're going to try it ourselves, continue when you are ready (click or press enter)",
                "",
                "PAUSE",
                "One of the most useful things for interactive testing is the developer console.",
                "",
                "Let's go to Blank.html in your browser and see how we can interact with our code directly.",
                "If you're using Google Chrome, right-click anywhere on the page, select 'Inspect',",
                "and navigate to the 'Console' tab.",
                "",
                "If you're using another browser, you can usually find the developer console in a similar way.",
                "Once you have the console open, you can enter JavaScript code directly and see the results.",
                "",
                "When you have found the console come back here to continue",
                "",
                "PAUSE",
                "Before we continue, it's important to know that anytime you do something to Blank.html in the text editor you need to save it, and then reload it in the browser.",
                "",
                "Now, let's start by adding a variable to Blank.html and testing it in the console.",
                "",
                "I'll always put code to type in `code` to make it clear, and when it's something that needs customization I'll use <>",
                "",
                "Let's open Blank.html in your text editor",
                "Add the following line to declare a variable named 'name'",
                "`let name = '<Enter your name>';`",
                "Be sure not to include the `s or the <>s",
                "Don't forget to save the file and reload Blank.html in your browser",
                "",
                "Now, open the developer console and try entering 'name' to see its current value",
                "",
                "Did it work? Don't continue until you get it working",
                "",
                "PAUSE",
                // Functions
                "Functions: They are a way to organize code into reusable blocks.",
                "You can define a function to perform a specific task and then call that function whenever needed.",
                "",
                "Example of declaring a function",
                "`function greet(name) {",
                '    console.log("Hello, " + name + "!");',
                "}`",
                "",
                "Example of calling the greet function",
                '`greet("Alice");`',
                "",
                "You can also pass variables as arguments to a function",
                "`greet(name);`",
                "",
                "When you create a function, or a reusable piece of code, we call that declaring, and when you use it we call that calling.",
                "Continue...",
                "",
                "PAUSE",
                "Functions can return values, or give us back answers to the questions we asked",
                "`function multiply(a, b) {",
                "    return a * b;",
                "}`",
                "",
                "Example of calling the multiply function and storing the result in a variable",
                "`let result = multiply(3, 4);`",
                "",
                "Display the result in the development console",
                '`console.log("Result of multiplication:", result);`',
                "",
                "Okay now it's your turn. Make the multiply function and get it to print out a result!",
                "Feel free to continue when you're done!",
                "",
                "PAUSE",
                "There are just a few things left to cover before we can get started in the engine proper.",
                "",
                "`const` works similarly to `let` in creating a variable, but with a crucial difference - a variable declared with `const` cannot be changed!",
                "For example, let's create a constant named 'PI' with the value 3.14 in Blank.html:",
                "`const PI = 3.14;`",
                "",
                "Now, let's attempt to change the value of 'PI' in the dev console! Go ahead and type `PI = 5;` and see what happens!",
                "",
                "Continue...",
                "",
                "PAUSE",
                "Let's dive into the basics of arrays!",
                "",
                "An array is a data structure that allows you to store multiple values in a single variable.",
                "You can think of it as a collection or a list of items. Or one big cardboard box!",
                "",
                "Here's how you can create an array in JavaScript:",
                "`let fruits = ['apple', 'banana', 'orange'];`",
                "",
                "In this example, we've created an array called 'fruits' that contains three elements: 'apple', 'banana', and 'orange'.",
                "",
                "Holding info is cool, but its no good if we can't use it. Go ahead and add fruits to Blank.html and use the dev console to view its current value, remember you can do so by typing `fruits`!",
                "Continue...",
                "",
                "PAUSE",
                "To use the data in an array we need to access it, to access an element in an array, you use its index. The index starts at 0, so to get the first element, you would use `fruits[0]`, for the second element, `fruits[1]`, and so on.",
                "",
                "Let's try accessing the second element in the 'fruits' array:",
                "`let secondFruit = fruits[1];`",
                "",
                "Now, `secondFruit` will hold the value 'banana'.",
                "",
                "Lets print that out as well: `console.log(secondFruit);`",
                "",
                "Arrays can hold a mix of data types, including numbers, strings, or even other arrays.",
                "",
                "Feel free to experiment with creating arrays and accessing their elements. Understanding arrays is fundamental to many programming tasks!",
                "",
                "Continue...",
                "",
                "PAUSE",
                "Sometimes you want to do something for everything in a list, not just the second thing - Thats where for loops shine.",
                "",
                "A for loop is a control structure that allows you to execute a block of code repeatedly for a specific number of times.",
                "With arrays, you can use a for loop to go through each element one by one.",
                "",
                "Here's an example that prints each element in the 'fruits' array to the console:",
                "```javascript",
                "for (let i = 0; i < fruits.length; i++) {",
                "    console.log(fruits[i]);",
                "}",
                "```",
                "",
                "In this loop, `i` is the index variable that starts at 0 and goes up to one less than the length of the array (`fruits.length`).",
                "The loop body uses `fruits[i]` to access each element and print it to the console.",
                "",
                "Using for loops with arrays is a powerful way to perform operations on each element efficiently.",
                "Go ahead and try to get fruits printing out before continuing!",
                "",
                "PAUSE",
                "Now, let's shift our focus to objects. Unlike arrays that are great for storing lists of items, objects are designed to hold information about a single entity in a more structured way. An object allows you to organize data using key-value pairs, where each piece of information about the entity is associated with a unique key. For example, consider creating an object to represent a person:",
                "```javascript",
                "let person = {",
                "    name: 'John Doe',",
                "    age: 25,",
                "    occupation: 'Software Developer',",
                "};",
                "```",
                "In this 'person' object, 'name', 'age', and 'occupation' are keys, each holding specific information about John Doe. You can access this information using dot notation, like `person.name` or `person.age`. Objects provide a convenient way to structure data when dealing with individual entities or things in your code.",
                "",
                "In Codeboard objects are abused extensivly to allow you to make the data of the game without most of the code",
                "Continue...",
                "",
                "PAUSE",
                "Finally, let's demystify the `this` keyword.",
                "",
                "`this` may seem like a bit of black magic (and it is), but in the Codeboard Engine, it's a powerful tool.",
                "In JavaScript, `this` is a reference to the current context or object within which the code is running.",
                "I've done a lot of heavy lifting to make it more straightforward for you!",
                "",
                "When you work with engine code, `this` will always work. For example, in the context of the player's code, `this` refers to the player.",
                "If you're working with a bullet, `this` becomes a reference to the bullet.",
                "For any other entity, `this` represents that specific entity.",
                "",
                "This simplifies interaction with and manipulation of the properties and behaviors of the current context.",
                "",
                "Now you've learned all the basics of programming! Feel free to experiment and explore before continuing!",
                "Next stop The Engine!!",
                "",
                "PAUSE",
                "Okay crack open Blank.html again and lets get started!!!",
                "Codeboard is a data and function based engine. You make data and you define functions.",
                "",
                "Let me show you an example - lets add a player to our game!",
                "",
                "First lets define what makes up our player, we can do so with the registerEntity function",
                "`registerEntity('Player');`",
                "",
                "This let the engine know that we want players to be something that exists in our game. Anything with a physical presence in the game is known as an Entity, hence `registerEntity`",
                "",
                "Now just becuase the engine knows players exist, does not mean that we have one, no we need to make an instance of a player.",
                "",
                "Go ahead and add the following code to Blank.html, right after `registerEntity('Player');`:",
                "`let player = spawnPlayer();`",
                "",
                "If you open of Blank.html in the browser, nothings changed, but thats an easy fix!",
                "Be sure your all caught up before continuing!",
                "",
                "PAUSE",
                "So you might be wondering why nothing appeared despite spawing in a player, and thats because we did not define what a player looks like!",
                "",
                "Lets add to the registration code",
                "`registerEntity('Player', {",
                "    color: 'green',",
                "    size: 10,",
                "});`",
                "",
                "Now out player has a size and color! Did you find the green dot?",
                "",
                "Lets move the player to the center of the screen",
                "When we spawn the player we can tell it where we want it to go",
                "`let player = spawnPlayer({ x: 150, y: 75 });`",
                "",
                "You might notice we are giving via an object, any thing that is optional when calling a function are put in {} inside Codeboard, that way they are easier to tell apart.",
                "",
                "Lets save and reload as see what happened. Make sure you ended up near in the center before continuing",
                "",
                "PAUSE",
                "Okay lets make this look a little bit better! go ahead and add 'game.background = 'cyan';` somewhere into your code",
                "",
                "And boom its blue! There is a lot of properties you can change with game, like the width and height of the display!",
                "",
                "Okay thats nice and all but we probably want to be able to do something...time to modify the player registration!",
                "",
                "`registerEntity('Player', {",
                "    color: 'green',",
                "    size: 10,",
                "    speed: 100,",
                "    onupdate: function (delta) {",
                "        // Update player direction based on user input",
                "        this.direction = getPlayerMovementdirectionection();",
                "    },",
                "});`",
                "",
                "Now go ahead and try moving around with WASD or the arrow keys.",
                "",
                "When your ready we'll continue...",
                "",
                "PAUSE",
                "You might have noticed that we have a function inside the registration, this is called a 'callback'.",
                "Callbacks are the magic of Codeboard.",
                "CONTINUE TO RPG STUFF",
                "",
                "PAUSE",
                "Okay Spencer for your game you should make a giant structure to hold a bunch of stuff",
                "`const FighterAbilities = {",
                "  RecklessRage: {",
                "    type: 'Bezerker',",
                "    1: {",
                "      cooldown: 45,",
                "      cost: 0.1,",
                "      onactivate: function (player) {",
                "        player.health *= 0.5;",
                "        player.damage *= 1.2;",
                "        function selfheal(type, amount) {",
                "          if (type == 'self') amount *= 2;",
                "        }",
                "        player.addEffect('onheal', 'RecklessRage_1_Effect', selfheal);",
                "      },",
                "      ondeactivate: function (player) {",
                "        player.damage /= 1.2;",
                "        player.removeEffect('RecklessRage_1_Effect');",
                "      },",
                "      duration: this.perk ? 12 : 10,",
                "  },",
                "TOO LONG CONTINUING ON NEXT",
                "PAUSE",
                "    2: {",
                "      onapply: function (player) {",
                "        function getModPercent() {",
                "          //this is player",
                "          const missPerc = 1 - this.health / this.maxHealth;",
                "          if (missPerc <= 0.3) return 1;",
                "          // Somehow round to nearest .1?",
                "          return 1 + Math.min(0.6, missingHealthPercentage + 0.3);",
                "        }",
                "        player.addModifier('atkspeed', 'RecklessRage_2_Modifier', getModPercent);",
                "      },",
                "      onremove: function (player) {",
                "        player.removeModifier('RecklessRage_2_Modifier');",
                "      },",
                "    },",
                "  },",
                "};`",
                "",
                "PAUSE",
                "Thats a lot of code, its in Blank already for you, basically add a bunch of callbacks and make up functions if you want them, things like addModifier and remove Modifer etc.",
                "",
                "If you need a new property like stacks or player.effects.count('bleed') or something just add it, if you are stuck let me know :D",
                "",
                "THANKS LOVE YOU!!",
            ];

            let currentLine = 0;
            let paused = false;
            function printNextLine() {
                if (paused) return;
                if (currentLine < tutorialLines.length) {
                    if (tutorialLines[currentLine] === "PAUSE") {
                        paused = true;
                        currentLine++;
                        return;
                    }
                    output.value += tutorialLines[currentLine] + "\n";
                    currentLine++;
                    setTimeout(printNextLine, 750); // Adjust the delay (in milliseconds) between lines
                }
            }

            // Start printing the tutorial lines
            printNextLine();

            // You can add an event listener to proceed on Enter key press or mouse click
            window.addEventListener("keydown", function (event) {
                if (event.key === "Enter") {
                    if (paused) {
                        paused = false;
                        output.value = "";
                    }
                    printNextLine();
                }
            });

            output.addEventListener("click", function () {
                if (paused) {
                    paused = false;
                    output.value = "";
                }
                printNextLine();
            });
        </script>
    </body>
</html>
